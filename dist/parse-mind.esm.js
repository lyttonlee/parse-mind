import*as t from"jszip";function n(t,n,i,e){return new(i||(i=Promise))((function(o,r){function c(t){try{a(e.next(t))}catch(t){r(t)}}function u(t){try{a(e.throw(t))}catch(t){r(t)}}function a(t){var n;t.done?o(t.value):(n=t.value,n instanceof i?n:new i((function(t){t(n)}))).then(c,u)}a((e=e.apply(t,n||[])).next())}))}var i;!function(t){t[t.left=0]="left",t[t.right=1]="right"}(i||(i={}));let e=["manifest.json","content.json","metadata.json"];function o(i){return new Promise(((o,r)=>n(this,void 0,void 0,(function*(){try{const{files:n}=yield t.loadAsync(i);let r=yield n[e[1]].async("string"),c=JSON.parse(r);o(c)}catch(t){r(t)}}))))}function r(t){return n(this,void 0,void 0,(function*(){return yield o(t)}))}function c(t){return n(this,void 0,void 0,(function*(){return function(t){return function t(n){let i={};if(n.children&&n.children.attached.length>0){let e=n.children.attached.map((n=>t(n)));i.children=e}return i.id=n.id,i.topic=n.title,i}(t[0].rootTopic)}(yield o(t))}))}export{c as parseXindFileToJsmind,r as parseXmindFileToJson};
